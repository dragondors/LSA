<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard Profit · Report 01-02-2026 al 07-02-2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg: #020617;
      --bg-card: #0b1120;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #22c55e;
      --accent2: #38bdf8;
      --pos: #22c55e;
      --neg: #ef4444;
      --border: #1f2937;
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;}
    body{margin:0;background:radial-gradient(circle at top,#1f2937 0,var(--bg) 50%,#000 100%);color:var(--text);}
    .wrap{max-width:1200px;margin:0 auto;padding:24px 16px 40px;}
    header{display:flex;flex-wrap:wrap;justify-content:space-between;gap:8px;margin-bottom:20px;}
    h1{margin:0;font-size:1.6rem;}
    .subtitle{margin:4px 0 0;color:var(--muted);font-size:.9rem;}
    .range{font-size:.85rem;color:var(--accent);margin-top:4px;}
    .badge{align-self:flex-start;border-radius:999px;border:1px solid rgba(56,189,248,.25);padding:6px 10px;font-size:.75rem;color:var(--accent2);display:inline-flex;align-items:center;gap:6px;background:rgba(15,23,42,.9);}
    .dot{width:7px;height:7px;border-radius:999px;background:var(--accent2);box-shadow:0 0 10px var(--accent2);}
    .grid-kpi{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin-bottom:20px;}
    .card{background:var(--bg-card);border-radius:16px;border:1px solid var(--border);padding:12px 14px;}
    .card h3{margin:0 0 4px;font-size:.8rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;}
    .kpi{font-size:1.3rem;font-weight:600;}
    .small{font-size:.75rem;color:var(--muted);margin-top:2px;}
    .main-grid{display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);gap:16px;margin-bottom:22px;}
    @media(max-width:900px){.main-grid{grid-template-columns:minmax(0,1fr);}}
    .card-title{margin:0 0 6px;font-size:1rem;font-weight:600;}
    .card-sub{margin:0 0 10px;font-size:.8rem;color:var(--muted);}
    .chart-box{height:260px;}
    .table-wrap{border-radius:16px;border:1px solid var(--border);overflow:hidden;background:rgba(15,23,42,.95);}
    table{width:100%;border-collapse:collapse;font-size:.8rem;}
    thead{background:linear-gradient(to right,#020617,#0f172a);}
    th,td{padding:8px 10px;text-align:left;}
    th{color:var(--muted);font-weight:600;border-bottom:1px solid var(--border);}
    tbody tr:nth-child(even){background:rgba(15,23,42,.7);}
    tbody tr:nth-child(odd){background:rgba(15,23,42,.45);}
    td{border-bottom:1px solid rgba(31,41,55,.7);}
    .tag{display:inline-flex;align-items:center;padding:2px 7px;border-radius:999px;background:rgba(31,41,55,.9);color:var(--muted);font-size:.7rem;}
    .pos{color:var(--pos);font-weight:600;}
    .neg{color:var(--neg);font-weight:600;}
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <h1>Dashboard Profit · Modelos y Units</h1>
      <p class="subtitle">Resumen de profit por modelo, unidad operativa y chatter.</p>
      <p class="range">Report 01-02-2026 al 07-02-2026</p>
    </div>
    <div class="badge"><span class="dot"></span>LSCC · Weekly Report</div>
  </header>

  
  <section class="grid-kpi">
    
    <div class="card">
      <h3>UNIT 1</h3>
      <div class="kpi">2462,81</div>
      <div class="small">MD 1 - 10</div>
    </div>
    <div class="card">
      <h3>UNIT 2</h3>
      <div class="kpi">4164,03</div>
      <div class="small">MD 11 - 20</div>
    </div>
    <div class="card">
      <h3>UNIT 3</h3>
      <div class="kpi">1021,87</div>
      <div class="small">MD 21 - 30</div>
    </div>
    <div class="card">
      <h3>UNIT 4</h3>
      <div class="kpi">1422,17</div>
      <div class="small">MD 31 - 40</div>
    </div>
    <div class="card">
      <h3>UNIT 5</h3>
      <div class="kpi">781,67</div>
      <div class="small">MD 41 - 50</div>
    </div>
    <div class="card">
      <h3>Total General</h3>
      <div class="kpi">9852,55</div>
      <div class="small">Suma de todas las units</div>
    </div>
  </section>

  <section class="main-grid">
    <div class="card">
      <h2 class="card-title">Profit por UNIT</h2>
      <p class="card-sub">Comparación de profit total entre unidades.</p>
      <div class="chart-box"><canvas id="unitChart"></canvas></div>
    </div>
    <div class="card">
      <h2 class="card-title">Profit por Modelo</h2>
      <p class="card-sub">Vista de profit agregado por modelo.</p>
      <div class="chart-box"><canvas id="modelChart"></canvas></div>
    </div>
  </section>

  <section class="card" style="margin-bottom:10px;">
    <h2 class="card-title">Resumen por Chatter</h2>
    <p class="card-sub">Totales de profit acumulado por chatter en todo el rango del reporte.</p>
  </section>

  <section class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>Chatter</th>
          <th>Total Profit</th>
        </tr>
      </thead>
      <tbody id="tbodyChatters"></tbody>
    </table>
  </section>
</div>

<script>
// Datos para gráficos
const unitLabels = ["UNIT 1","UNIT 2","UNIT 3","UNIT 4","UNIT 5"];
const unitData = [2462.81,4164.03,1021.87,1422.17,781.6700000000001];

const modelLabels = ["M1","M2","M3","M4","M5","M8","M9","M10","M12","M13","M14","M16","M17","M19","M21","M22","M23","M24","M25","M26","M28","M29","M30","M32","M34","M36","M37","M38","M40","M43","M45","M46","M48"];
const modelData = [491.15,336.09999999999997,569.8199999999999,899.37,112.42,53.04,-116.96000000000001,117.87,669.0799999999999,108.16,2557.2000000000003,663.47,30.779999999999998,135.34,36.7,22.590000000000003,263.48,560.63,25.24,34.48,26.29,26.67,25.79,204.15,92.34,237.54,663.14,29.020000000000003,195.98,201.51,337.98,68.52,173.66000000000003];

function formatES(v){return v.toLocaleString('es-ES',{minimumFractionDigits:2,maximumFractionDigits:2});}

// Charts
const ctxUnit = document.getElementById('unitChart').getContext('2d');
new Chart(ctxUnit,{
  type:'bar',
  data:{
    labels:unitLabels,
    datasets:[{
      data:unitData,
      backgroundColor:'rgba(34,197,94,0.55)',
      borderColor:'rgba(34,197,94,1)',
      borderWidth:1.5,
      borderRadius:6
    }]
  },
  options:{
    plugins:{legend:{display:false}},
    scales:{
      x:{ticks:{color:'#9ca3af'},grid:{display:false}},
      y:{ticks:{color:'#9ca3af',callback:(v)=>formatES(v)},grid:{color:'rgba(55,65,81,.5)'}}
    }
  }
});

const ctxModel = document.getElementById('modelChart').getContext('2d');
const colors = modelData.map(v=>v>=0?'rgba(56,189,248,0.6)':'rgba(239,68,68,0.8)');
const borders = modelData.map(v=>v>=0?'rgba(56,189,248,1)':'rgba(239,68,68,1)');
new Chart(ctxModel,{
  type:'bar',
  data:{
    labels:modelLabels,
    datasets:[{
      data:modelData,
      backgroundColor:colors,
      borderColor:borders,
      borderWidth:1.3,
      borderRadius:4
    }]
  },
  options:{
    plugins:{legend:{display:false}},
    scales:{
      x:{ticks:{color:'#9ca3af'},grid:{display:false}},
      y:{ticks:{color:'#9ca3af',callback:(v)=>formatES(v)},grid:{color:'rgba(55,65,81,.5)'}}
    }
  }
});

// --- Resumen por chatter ---
// Data modelo -> [{chatter, profit}]
const modelChatterData = {
  "M1": [
    {
      "chatter": "Aprihl",
      "profit": 41.32
    },
    {
      "chatter": "Mark",
      "profit": 240.36
    },
    {
      "chatter": "Precious",
      "profit": 209.47
    }
  ],
  "M10": [
    {
      "chatter": "Eduardo A",
      "profit": 77.47
    },
    {
      "chatter": "Jose V",
      "profit": 4.51
    },
    {
      "chatter": "Luis O",
      "profit": 5.56
    },
    {
      "chatter": "Maria A",
      "profit": 3.92
    },
    {
      "chatter": "Maria C",
      "profit": 22.74
    },
    {
      "chatter": "Mariangel",
      "profit": 24.21
    },
    {
      "chatter": "Neimar",
      "profit": -20.54
    }
  ],
  "M12": [
    {
      "chatter": "Jose V",
      "profit": 146.18
    },
    {
      "chatter": "Laleska",
      "profit": 294.5
    },
    {
      "chatter": "Luis O",
      "profit": 109.74
    },
    {
      "chatter": "Marcelo",
      "profit": 7.47
    },
    {
      "chatter": "María V",
      "profit": 37.66
    },
    {
      "chatter": "Roger",
      "profit": 73.53
    }
  ],
  "M13": [
    {
      "chatter": "Aarón B.",
      "profit": 6.88
    },
    {
      "chatter": "Andreina",
      "profit": 35.68
    },
    {
      "chatter": "Silvana",
      "profit": 65.6
    }
  ],
  "M14": [
    {
      "chatter": "Jason",
      "profit": 1174.39
    },
    {
      "chatter": "Jerry",
      "profit": 397.72
    },
    {
      "chatter": "Samuel",
      "profit": 985.09
    }
  ],
  "M16": [
    {
      "chatter": "Jason",
      "profit": 89.93
    },
    {
      "chatter": "Jerry",
      "profit": 83.06
    },
    {
      "chatter": "Samuel",
      "profit": 490.48
    }
  ],
  "M17": [
    {
      "chatter": "Grisell",
      "profit": 5.65
    },
    {
      "chatter": "Jesús V",
      "profit": 21.32
    },
    {
      "chatter": "Maria B",
      "profit": 3.81
    }
  ],
  "M19": [
    {
      "chatter": "Aprihl",
      "profit": 5.13
    },
    {
      "chatter": "Mark",
      "profit": 33.29
    },
    {
      "chatter": "Precious",
      "profit": 96.92
    }
  ],
  "M2": [
    {
      "chatter": "Cheemah",
      "profit": 213.27
    },
    {
      "chatter": "Chidi",
      "profit": 87.63
    },
    {
      "chatter": "Nelson",
      "profit": 35.2
    }
  ],
  "M21": [
    {
      "chatter": "Jeremit",
      "profit": 1.96
    },
    {
      "chatter": "Luz R",
      "profit": 8.64
    },
    {
      "chatter": "María V",
      "profit": 26.1
    }
  ],
  "M22": [
    {
      "chatter": "Leo",
      "profit": 100.97
    },
    {
      "chatter": "Moses",
      "profit": 10.75
    },
    {
      "chatter": "Ubeku",
      "profit": -89.13
    }
  ],
  "M23": [
    {
      "chatter": "David C.",
      "profit": 208.08
    },
    {
      "chatter": "Diego",
      "profit": -8.95
    },
    {
      "chatter": "Jesús V",
      "profit": 6.73
    },
    {
      "chatter": "María V",
      "profit": 57.62
    }
  ],
  "M24": [
    {
      "chatter": "Barbara",
      "profit": 270.34
    },
    {
      "chatter": "Jhoanna",
      "profit": 42.16
    },
    {
      "chatter": "Karelys",
      "profit": 28.67
    },
    {
      "chatter": "Maria B",
      "profit": 51.71
    },
    {
      "chatter": "Silvio S",
      "profit": 167.75
    }
  ],
  "M25": [
    {
      "chatter": "Aprihl",
      "profit": 25.24
    }
  ],
  "M26": [
    {
      "chatter": "Grisell",
      "profit": 4.37
    },
    {
      "chatter": "Jhoanna",
      "profit": 30.11
    }
  ],
  "M28": [
    {
      "chatter": "Jesús V",
      "profit": 18.86
    },
    {
      "chatter": "Marcelo",
      "profit": 7.43
    }
  ],
  "M29": [
    {
      "chatter": "Eduardo A",
      "profit": 22.48
    },
    {
      "chatter": "Mariangel",
      "profit": 4.19
    }
  ],
  "M3": [
    {
      "chatter": "Frank",
      "profit": 158.3
    },
    {
      "chatter": "Paul",
      "profit": 207.97
    },
    {
      "chatter": "Victoria",
      "profit": 203.55
    }
  ],
  "M30": [
    {
      "chatter": "Eduardo A",
      "profit": 24.13
    },
    {
      "chatter": "Jeremit",
      "profit": 3.45
    },
    {
      "chatter": "Mariangel",
      "profit": 6.4
    },
    {
      "chatter": "Neimar",
      "profit": -8.19
    }
  ],
  "M32": [
    {
      "chatter": "Barbara",
      "profit": 3.7
    },
    {
      "chatter": "Karelys",
      "profit": 91.89
    },
    {
      "chatter": "Silvio S",
      "profit": 108.56
    }
  ],
  "M34": [
    {
      "chatter": "Jeremit",
      "profit": 50.17
    },
    {
      "chatter": "Luz R",
      "profit": 27.42
    },
    {
      "chatter": "María V",
      "profit": 14.75
    }
  ],
  "M36": [
    {
      "chatter": "Cheemah",
      "profit": 199.1
    },
    {
      "chatter": "Chidi",
      "profit": 38.44
    }
  ],
  "M37": [
    {
      "chatter": "Alesandro",
      "profit": 68.02
    },
    {
      "chatter": "Jose F",
      "profit": 326.64
    },
    {
      "chatter": "Yorgelis",
      "profit": 268.48
    }
  ],
  "M38": [
    {
      "chatter": "Jeremit",
      "profit": 7.94
    },
    {
      "chatter": "Luz R",
      "profit": 1.46
    },
    {
      "chatter": "María V",
      "profit": 19.62
    }
  ],
  "M4": [
    {
      "chatter": "Aarón B.",
      "profit": 173.92
    },
    {
      "chatter": "Andreina",
      "profit": 259.78
    },
    {
      "chatter": "Jose V",
      "profit": 93.66
    },
    {
      "chatter": "Luis O",
      "profit": 170.44
    },
    {
      "chatter": "Maria A",
      "profit": 107.93
    },
    {
      "chatter": "Maria C",
      "profit": 93.64
    }
  ],
  "M40": [
    {
      "chatter": "Frank",
      "profit": 120.36
    },
    {
      "chatter": "Paul",
      "profit": 46.14
    },
    {
      "chatter": "Victoria",
      "profit": 29.48
    }
  ],
  "M43": [
    {
      "chatter": "David C.",
      "profit": 10.85
    },
    {
      "chatter": "Diego",
      "profit": -18.76
    },
    {
      "chatter": "Jesús V",
      "profit": 11.94
    },
    {
      "chatter": "Karelys",
      "profit": 97.33
    },
    {
      "chatter": "Laleska",
      "profit": 100.15
    }
  ],
  "M45": [
    {
      "chatter": "Goodnews",
      "profit": 160.23
    },
    {
      "chatter": "John E",
      "profit": 184.78
    },
    {
      "chatter": "Mike",
      "profit": 44.23
    },
    {
      "chatter": "Precious",
      "profit": -51.26
    }
  ],
  "M46": [
    {
      "chatter": "Silvana",
      "profit": 68.52
    }
  ],
  "M48": [
    {
      "chatter": "Karelys",
      "profit": 132.27
    },
    {
      "chatter": "Marcelo",
      "profit": 41.39
    }
  ],
  "M5": [
    {
      "chatter": "Aprihl",
      "profit": 31.05
    },
    {
      "chatter": "Jhoanna",
      "profit": 81.37
    }
  ],
  "M8": [
    {
      "chatter": "Grisell",
      "profit": 6.47
    },
    {
      "chatter": "Jhoanna",
      "profit": 25.01
    },
    {
      "chatter": "Maria B",
      "profit": 21.56
    }
  ],
  "M9": [
    {
      "chatter": "Leo",
      "profit": 34.18
    },
    {
      "chatter": "Moses",
      "profit": -57.84
    },
    {
      "chatter": "Ubeku",
      "profit": -93.3
    }
  ]
};
// Acumulamos por chatter
const chatterTotals = {
  "Aprihl": 102.74,
  "Mark": 273.65000000000003,
  "Precious": 255.13,
  "Eduardo A": 124.08,
  "Jose V": 244.35,
  "Luis O": 285.74,
  "Maria A": 111.85000000000001,
  "Maria C": 116.38,
  "Mariangel": 34.800000000000004,
  "Neimar": -28.729999999999997,
  "Laleska": 394.65,
  "Marcelo": 56.29,
  "María V": 155.75,
  "Roger": 73.53,
  "Aarón B.": 180.79999999999998,
  "Andreina": 295.46,
  "Silvana": 134.12,
  "Jason": 1264.3200000000002,
  "Jerry": 480.78000000000003,
  "Samuel": 1475.5700000000002,
  "Grisell": 16.49,
  "Jesús V": 58.849999999999994,
  "Maria B": 77.08,
  "Cheemah": 412.37,
  "Chidi": 126.07,
  "Nelson": 35.2,
  "Jeremit": 63.519999999999996,
  "Luz R": 37.52,
  "Leo": 135.15,
  "Moses": -47.09,
  "Ubeku": -182.43,
  "David C.": 218.93,
  "Diego": -27.71,
  "Barbara": 274.03999999999996,
  "Jhoanna": 178.64999999999998,
  "Karelys": 350.15999999999997,
  "Silvio S": 276.31,
  "Frank": 278.66,
  "Paul": 254.11,
  "Victoria": 233.03,
  "Alesandro": 68.02,
  "Jose F": 326.64,
  "Yorgelis": 268.48,
  "Goodnews": 160.23,
  "John E": 184.78,
  "Mike": 44.23
};

// Convertimos a array ordenado desc por total
const chatterArray = Object.entries(chatterTotals).map(([name,total])=>({name,total}));
chatterArray.sort((a,b)=>b.total - a.total);

const tbodyChatters = document.getElementById('tbodyChatters');
chatterArray.forEach(row=>{
  const tr = document.createElement('tr');
  const tdN = document.createElement('td');
  const tdT = document.createElement('td');
  tdN.textContent = row.name;
  tdT.textContent = formatES(row.total);
  tdT.className = row.total >= 0 ? 'pos' : 'neg';
  tr.appendChild(tdN);
  tr.appendChild(tdT);
  tbodyChatters.appendChild(tr);
});
</script>
</body>
</html>
